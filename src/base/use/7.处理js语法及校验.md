---
title: webpack-处理js语法及校验
copyright: true
#permalink: 1
top: 0
date: 2019-03-15 22:19:54
categories:
- 前端开发
- 3.开发环境
- 4.构建工具
- 1.webpack
- 1.基础
- 07.处理js语法及校验
#tags:
- 1.webpack
- 基础
- 处理js语法
- eslint校验
- babel
- es7
---

# 1.es7 语法转换成 es5（对比 es6 的教程）

## 安装

package.json

```
"dependencies": {
    "@babel/plugin-transform-runtime": "^7.4.0",
    "@babel/polyfill": "^7.4.0",
    "@babel/runtime": "^7.4.2"
  }
```

## 文件

### 1.src/a.js

```
module.exports = "123";
require("@babel/polyfill");

class B {}
function* gen(params) {
  yield 1;
}
console.log(gen().next());

"aaa".includes("a");
```

### 2.src/index.js

```
···
require("./a.js");
···
```

## 配置

webpack.config.js

```
{
test: /\.js$/,
use: {
    loader: "babel-loader",
    options: {
    presets: ["@babel/preset-env"],
    plugins: [
        ["@babel/plugin-proposal-decorators", { legacy: true }],
        ["@babel/plugin-proposal-class-properties", { loose: true }],
        "@babel/plugin-transform-runtime"
    ]
    }
},
include: path.resolve(__dirname, "src"),
exclude: /node_modules/
},
```

## 打包

```
npm run build
```

可以看到 es7 语法转换为 es5 了

# 2.eslint

## 安装

package.json(开发依赖)

```
···
"eslint": "^5.15.3",
"eslint-loader": "^2.1.2",
···
```

## 文件

[eslint 官网下载 eslintrc.json](https://eslint.org/demo/)

然后放到根目录下（注意前面加.）

## 配置

webpack.config.js

```
{
    test: /\.js$/,
    use: {
        loader: "eslint-loader",
        options: {
        enforce: "pre"
        }
    }
},
```

## 打包

```
npm run build
```

可以看到有报错的，提示哪里有错误（这个就是 eslint 的错误提示）

[完整代码](https://github.com/zhoubichuan/frontend-note/tree/master/3.dev/3.scaffolding/1.webpack/1.base/7.grammar)
