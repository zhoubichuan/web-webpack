---
title: webpack手写
copyright: true
#permalink: 1
top: 0
date: 2019-04-09 21:49:11
categories:
- 前端开发
- 3.开发环境
- 4.构建工具
- 1.webpack
- 5.手写webpack
- 01.webpack
#tags:
- 1.webpack
- 手写
- 1.webpack
---

## 1.写一个打包案例

### 1.文件

src/base/b.js

```
module.exports = "b";
```

src/a.js

```
let b = require("./base/b.js");
module.exports = "a" + b;
```

src/index.js

```
let str = require("./a.js");
console.log(str);
```

### 2.配置

webpack.config.js

```
let path = require("path");
module.exports = {
  mode: "development",
  entry: "./src/index.js",
  output: {
    filename: "bundle.js",
    path: path.resolve(__dirname, "dist")
  }
};
```

## 2.自己的 webpack

mypack/bin/mypack.js

```
#! /usr/bin/env node

console.log("start");
```

mypack/package.json

```
{
  "name": "mypack",
  "version": "1.0.0",
  "main": "index.js",
  "license": "MIT",
  "bin": {
    "mypack": "./bin/mypack.js"
  }
}
```

## 2.将自己写的包链接到案例上

自己的包目录下

```
npm link
```

案例的目录下

```
npm link mypack
```

## 3.运行

案例的目录下

```
npx mypack
```

打印出：start

现在可以在 mypack.js 中写自己的逻辑实现打包功能

[案例完整代码](https://github.com/zhoubichuan/frontend-note/tree/master/3.dev/3.scaffolding/1.webpack/5.write/1.writeByHand)

[包完整代码](https://github.com/zhoubichuan/frontend-note/tree/master/3.dev/3.scaffolding/1.webpack/5.write/1.mypack)
